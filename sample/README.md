# １ページ完結のminiコード

## 簡単な計算をする
*dentaku.html*

### DOM（document Object Model）
JavaScriptからHTMLの各要素を操作するための仕組み  
（document.bodyで、HTMLファイルのbodyタグの中身を取得、とか）
  
### 変数
値を一時的に格納する入れ物  

`var src = $("#srcArea").val();`  

「var」→「variable(変数)」の意味。「src」という変数を作る。  
「=」→右の値を、左の変数に入れる。　
  
`var res = eval(src);`  

eval() は文字列として表された JavaScript コードを式として評価する関数。  
()の中の文字を、プログラムとして解釈。計算式を入れれば計算してくれる。  

`$("#resArea").val(res);`  

変数「res」に格納されている値をテキストエリアに出力。  

| 説明 | コード |
|:-----------|:------------|
| フォームから値を取得 | $(セレクタ).val() |
| フォームに値を出力 | $(セレクタ).val(値) |
| DOMからHTMLを取得 | $(セレクタ).html() |
| DOMにHTMLを出力 | $(セレクタ).html(値) |
| DOMからテキストを取得 | $(セレクタ).text() |
| DOMにテキストを出力 | $(セレクタ).text(値) |

## 文字数をカウントする
*count.html*

`var res = src.length;`  

文字列の長さを取得  

**文字列はオブジェクト**  
オブジェクトは、プロパティと呼ばれる値を持つ  
「.」区切りで「値」や「関数が使える」  
「文字列.length」で文字列の長さがわかる  
「"abc".length」→「3」

## 文字列置換
*chikan.html*

`res.replace(/\n/g,"<br>\n");`  
`文字列.replace(検索条件,置換文字列);`  

/記号付き検索文字列/フラグ  
フラグ「g」で全置換  
正規表現で文字列を指定できる  

特殊文字  
改行→\n  
タブ文字→\t  
など

## 文字数をカウントする２
*count_2.html*

`var space = $("#space").prop("checked");  `  

チェックが入っているかどうか判定  
チェックされていればtrue、されていなければfalseの値がspaceに入る

`if(linebreak){処理}`  

もしチェックが入っていたら（trueなら）実行

`src = src.replace(/ /g,"");`  

スペースを空白に変換（つまり削除）

### スペースはユニコードで指定するのが確実

`\x20`は半角スペース  
`\u3000`は全角スペース  

※ 半角スペースの文字コードは、16進数で 20 で全角スペースの文字コードが16進数で 3000

## 文字列置換２

`res.replace(/^# (.+?)$/gm,"<h1>$1</h1>"); `  

カッコ()で囲われた部分を変数に代入する  
()で括った中身は、情報を維持したまま$1にいれられる  
この変数は$1,$2,$3…と複数用いることが可能、()の順番に呼応する  

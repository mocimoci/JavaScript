<!DOCTYPE html>
<html>

<!-- ===head=============================================================================== -->
<head>
  <title>電卓2</title>
   <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
   <script type="text/javascript">
   //DOMの準備ができてから実行
   $(function(){
    //ボタンのクリック処理を実装
    $("#btn").click(function(){

      var src = $("#srcArea").val(); //入力　入力エリアから値を取得

      var srcArr = src.split("\n"); // 改行で分割し配列化
      var resArr = []; //結果用配列を用意


      for (var i = 0 ; i < srcArr.length ; i++){

        var line = srcArr[i]; // １行取り出す 

        try{
          line = line + "=" + eval(line); // 取得した値を計算：eval() は文字列として表された JavaScript コードを式として評価する関数
        } catch(e){
          line = line + "=" + e; //エラー時
        }

        resArr.push(line); //結果を追加

      }

      resArr.Join("\n"); //結果を改行でつないで文字列に



      $("#resArea").val(res); //出力　出力エリアへ、計算結果を書き出す

      console.log(res);  //コンソール表示

    })

   //タイトルをH1タグの中に表示
   $("h1").text(document.title);

   });
   </script>
   <style type="text/css">
     textarea.inOut{width: 640px;height: 150px;}
   </style>
</head>
<!-- ===head=============================================================================== -->

<!-- 

メモ

split メソッド
splitはStringオブジェクトの組み込みメソッドとして用意されており、文字列を任意の箇所で区切って分割することが可能


val()は、HTMLタグ内に記述されているvalue属性を取得したり変更することができるメソッド
()内が空なら値を取得、()値を入れると、その値をvalueに書き込む 

-->

<!-- ===body=============================================================================== -->
<body>
  <h1></h1>
  <h2>入力</h2>
  <textarea class="inOut" id="srcArea"></textarea><br> <!-- 入力エリア -->

  <input type="button" value="実行" id="btn"><br>

  <h2>出力</h2>
  <textarea class="inOut" id="resArea"></textarea><br> <!-- 出力エリア -->

</body>
<!-- ===body=============================================================================== -->
</html>
